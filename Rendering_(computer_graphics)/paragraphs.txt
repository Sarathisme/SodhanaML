Renderingorimagesynthesisistheautomaticprocessofgeneratingaphotorealisticornon-photorealisticimagefroma2Dor3Dmodel(ormodelsinwhatcollectivelycouldbecalledascenefile)bymeansofcomputerprograms.Also,theresultsofdisplayingsuchamodelcanbecalledarender.Ascenefilecontainsobjectsinastrictlydefinedlanguageordatastructure;itwouldcontaingeometry,viewpoint,texture,lighting,andshadinginformationasadescriptionofthevirtualscene.Thedatacontainedinthescenefileisthenpassedtoarenderingprogramtobeprocessedandoutputtoadigitalimageorrastergraphicsimagefile.Theterm"rendering"maybebyanalogywithan"artist\'srendering"ofascene.\nThoughthetechnicaldetailsofrenderingmethodsvary,thegeneralchallengestoovercomeinproducinga2Dimagefroma3Drepresentationstoredinascenefileareoutlinedasthegraphicspipelinealongarenderingdevice,suchasaGPU.AGPUisapurpose-builtdeviceabletoassistaCPUinperformingcomplexrenderingcalculations.Ifasceneistolookrelativelyrealisticandpredictableundervirtuallighting,therenderingsoftwareshouldsolvetherenderingequation.Therenderingequationdoesn\'taccountforalllightingphenomena,butisagenerallightingmodelforcomputer-generatedimagery.\'Rendering\'isalsousedtodescribetheprocessofcalculatingeffectsinavideoeditingprogramtoproducefinalvideooutput.\nRenderingisoneofthemajorsub-topicsof3Dcomputergraphics,andinpracticeisalwaysconnectedtotheothers.Inthegraphicspipeline,itisthelastmajorstep,givingthefinalappearancetothemodelsandanimation.Withtheincreasingsophisticationofcomputergraphicssincethe1970s,ithasbecomeamoredistinctsubject.\nRenderinghasusesinarchitecture,videogames,simulators,movieorTVvisualeffects,anddesignvisualization,eachemployingadifferentbalanceoffeaturesandtechniques.Asaproduct,awidevarietyofrenderersareavailable.Someareintegratedintolargermodelingandanimationpackages,somearestand-alone,somearefreeopen-sourceprojects.Ontheinside,arendererisacarefullyengineeredprogram,basedonaselectivemixtureofdisciplinesrelatedto:lightphysics,visualperception,mathematics,andsoftwaredevelopment.\nInthecaseof3Dgraphics,renderingmaybedoneslowly,asinpre-rendering,orinrealtime.Pre-renderingisacomputationallyintensiveprocessthatistypicallyusedformoviecreation,whilereal-timerenderingisoftendonefor3Dvideogameswhichrelyontheuseofgraphicscardswith3Dhardwareaccelerators.\nWhenthepre-image(awireframesketchusually)iscomplete,renderingisused,whichaddsinbitmaptexturesorproceduraltextures,lights,bumpmappingandrelativepositiontootherobjects.Theresultisacompletedimagetheconsumerorintendedviewersees.\nFormovieanimations,severalimages(frames)mustberendered,andstitchedtogetherinaprogramcapableofmakingananimationofthissort.Most3Dimageeditingprogramscandothis.\nArenderedimagecanbeunderstoodintermsofanumberofvisiblefeatures.Renderingresearchanddevelopmenthasbeenlargelymotivatedbyfindingwaystosimulatetheseefficiently.Somerelatedirectlytoparticularalgorithmsandtechniques,whileothersareproducedtogether.\nManyrenderingalgorithmshavebeenresearched,andsoftwareusedforrenderingmayemployanumberofdifferenttechniquestoobtainafinalimage.\nTracingeveryparticleoflightinasceneisnearlyalwayscompletelyimpracticalandwouldtakeastupendousamountoftime.Eventracingaportionlargeenoughtoproduceanimagetakesaninordinateamountoftimeifthesamplingisnotintelligentlyrestricted.\nTherefore,afewloosefamiliesofmore-efficientlighttransportmodellingtechniqueshaveemerged:\nThefourthtypeoflighttransporttechnique,radiosityisnotusuallyimplementedasarenderingtechnique,butinsteadcalculatesthepassageoflightasitleavesthelightsourceandilluminatessurfaces.Thesesurfacesareusuallyrenderedtothedisplayusingoneoftheotherthreetechniques.\nMostadvancedsoftwarecombinestwoormoreofthetechniquestoobtaingood-enoughresultsatreasonablecost.\nAnotherdistinctionisbetweenimageorderalgorithms,whichiterateoverpixelsoftheimageplane,andobjectorderalgorithms,whichiterateoverobjectsinthescene.Generallyobjectorderismoreefficient,asthereareusuallyfewerobjectsinascenethanpixels.\nAhigh-levelrepresentationofanimagenecessarilycontainselementsinadifferentdomainfrompixels.Theseelementsarereferredtoasprimitives.Inaschematicdrawing,forinstance,linesegmentsandcurvesmightbeprimitives.Inagraphicaluserinterface,windowsandbuttonsmightbetheprimitives.Inrenderingof3Dmodels,trianglesandpolygonsinspacemightbeprimitives.\nIfapixel-by-pixel(imageorder)approachtorenderingisimpracticalortooslowforsometask,thenaprimitive-by-primitive(objectorder)approachtorenderingmayproveuseful.Here,oneloopsthrougheachoftheprimitives,determineswhichpixelsintheimageitaffects,andmodifiesthosepixelsaccordingly.Thisiscalledrasterization,andistherenderingmethodusedbyallcurrentgraphicscards.\nRasterizationisfrequentlyfasterthanpixel-by-pixelrendering.First,largeareasoftheimagemaybeemptyofprimitives;rasterizationwillignoretheseareas,butpixel-by-pixelrenderingmustpassthroughthem.Second,rasterizationcanimprovecachecoherencyandreduceredundantworkbytakingadvantageofthefactthatthepixelsoccupiedbyasingleprimitivetendtobecontiguousintheimage.Forthesereasons,rasterizationisusuallytheapproachofchoicewheninteractiverenderingisrequired;however,thepixel-by-pixelapproachcanoftenproducehigher-qualityimagesandismoreversatilebecauseitdoesnotdependonasmanyassumptionsabouttheimageasrasterization.\nTheolderformofrasterizationischaracterizedbyrenderinganentireface(primitive)asasinglecolor.Alternatively,rasterizationcanbedoneinamorecomplicatedmannerbyfirstrenderingtheverticesofafaceandthenrenderingthepixelsofthatfaceasablendingofthevertexcolors.Thisversionofrasterizationhasovertakentheoldmethodasitallowsthegraphicstoflowwithoutcomplicatedtextures(arasterizedimagewhenusedfacebyfacetendstohaveaveryblock-likeeffectifnotcoveredincomplextextures;thefacesarenotsmoothbecausethereisnogradualcolorchangefromoneprimitivetothenext).Thisnewermethodofrasterizationutilizesthegraphicscard\'smoretaxingshadingfunctionsandstillachievesbetterperformancebecausethesimplertexturesstoredinmemoryuselessspace.Sometimesdesignerswilluseonerasterizationmethodonsomefacesandtheothermethodonothersbasedontheangleatwhichthatfacemeetsotherjoinedfaces,thusincreasingspeedandnothurtingtheoveralleffect.\nInraycastingthegeometrywhichhasbeenmodeledisparsedpixelbypixel,linebyline,fromthepointofviewoutward,asifcastingraysoutfromthepointofview.Whereanobjectisintersected,thecolorvalueatthepointmaybeevaluatedusingseveralmethods.Inthesimplest,thecolorvalueoftheobjectatthepointofintersectionbecomesthevalueofthatpixel.Thecolormaybedeterminedfromatexture-map.Amoresophisticatedmethodistomodifythecolourvaluebyanilluminationfactor,butwithoutcalculatingtherelationshiptoasimulatedlightsource.Toreduceartifacts,anumberofraysinslightlydifferentdirectionsmaybeaveraged.\nRaycastinginvolvescalculatingthe"viewdirection"(fromcameraposition),andincrementallyfollowingalongthat"raycast"through"solid3dobjects"inthescene,whileaccumulatingtheresultingvaluefromeachpointin3Dspace.Thisisrelatedandsimilarto"raytracing"exceptthattheraycastisusuallynot"bounced"offsurfaces(wherethe"raytracing"indicatesthatitistracingoutthelightspathincludingbounces)."Raycasting"impliesthatthelightrayisfollowingastraightpath(whichmayincludetravellingthroughsemi-transparentobjects).Theraycastisavectorthatcanoriginatefromthecameraorfromthesceneendpoint("backtofront",or"fronttoback").Sometimesthefinallightvalueisaderivedfroma"transferfunction"andsometimesit\'suseddirectly.\nRoughsimulationsofopticalpropertiesmaybeadditionallyemployed:asimplecalculationoftherayfromtheobjecttothepointofviewismade.Anothercalculationismadeoftheangleofincidenceoflightraysfromthelightsource(s),andfromtheseaswellasthespecifiedintensitiesofthelightsources,thevalueofthepixeliscalculated.Anothersimulationusesilluminationplottedfromaradiosityalgorithm,oracombinationofthesetwo.\nRaytracingaimstosimulatethenaturalflowoflight,interpretedasparticles.Often,raytracingmethodsareutilizedtoapproximatethesolutiontotherenderingequationbyapplyingMonteCarlomethodstoit.Someofthemostusedmethodsarepathtracing,bidirectionalpathtracing,orMetropolislighttransport,butalsosemirealisticmethodsareinuse,likeWhittedStyleRayTracing,orhybrids.Whilemostimplementationsletlightpropagateonstraightlines,applicationsexisttosimulaterelativisticspacetimeeffects.[1]\nInafinal,productionqualityrenderingofaraytracedwork,multipleraysaregenerallyshotforeachpixel,andtracednotjusttothefirstobjectofintersection,butrather,throughanumberofsequential\'bounces\',usingtheknownlawsofopticssuchas"angleofincidenceequalsangleofreflection"andmoreadvancedlawsthatdealwithrefractionandsurfaceroughness.\nOncetherayeitherencountersalightsource,ormoreprobablyonceasetlimitingnumberofbounceshasbeenevaluated,thenthesurfaceilluminationatthatfinalpointisevaluatedusingtechniquesdescribedabove,andthechangesalongthewaythroughthevariousbouncesevaluatedtoestimateavalueobservedatthepointofview.Thisisallrepeatedforeachsample,foreachpixel.\nIndistributionraytracing,ateachpointofintersection,multipleraysmaybespawned.Inpathtracing,however,onlyasinglerayornoneisfiredateachintersection,utilizingthestatisticalnatureofMonteCarloexperiments.\nAsabrute-forcemethod,raytracinghasbeentooslowtoconsiderforreal-time,anduntilrecentlytoosloweventoconsiderforshortfilmsofanydegreeofquality,althoughithasbeenusedforspecialeffectssequences,andinadvertising,whereashortportionofhighquality(perhapsevenphotorealistic)footageisrequired.\nHowever,effortsatoptimizingtoreducethenumberofcalculationsneededinportionsofaworkwheredetailisnothighordoesnotdependonraytracingfeatureshaveledtoarealisticpossibilityofwideruseofraytracing.Thereisnowsomehardwareacceleratedraytracingequipment,atleastinprototypephase,andsomegamedemoswhichshowuseofreal-timesoftwareorhardwareraytracing.\nRadiosityisamethodwhichattemptstosimulatethewayinwhichdirectlyilluminatedsurfacesactasindirectlightsourcesthatilluminateothersurfaces.Thisproducesmorerealisticshadingandseemstobettercapturethe\'ambience\'ofanindoorscene.Aclassicexampleisthewaythatshadows\'hug\'thecornersofrooms.\nTheopticalbasisofthesimulationisthatsomediffusedlightfromagivenpointonagivensurfaceisreflectedinalargespectrumofdirectionsandilluminatestheareaaroundit.\nThesimulationtechniquemayvaryincomplexity.Manyrenderingshaveaveryroughestimateofradiosity,simplyilluminatinganentiresceneveryslightlywithafactorknownasambiance.However,whenadvancedradiosityestimationiscoupledwithahighqualityraytracingalgorithm,imagesmayexhibitconvincingrealism,particularlyforindoorscenes.\nInadvancedradiositysimulation,recursive,finite-elementalgorithms\'bounce\'lightbackandforthbetweensurfacesinthemodel,untilsomerecursionlimitisreached.Thecolouringofonesurfaceinthiswayinfluencesthecolouringofaneighbouringsurface,andviceversa.Theresultingvaluesofilluminationthroughoutthemodel(sometimesincludingforemptyspaces)arestoredandusedasadditionalinputswhenperformingcalculationsinaray-castingorray-tracingmodel.\nDuetotheiterative/recursivenatureofthetechnique,complexobjectsareparticularlyslowtoemulate.Priortothestandardizationofrapidradiositycalculation,somedigitalartistsusedatechniquereferredtolooselyasfalseradiositybydarkeningareasoftexturemapscorrespondingtocorners,jointsandrecesses,andapplyingthemviaself-illuminationordiffusemappingforscanlinerendering.Evennow,advancedradiositycalculationsmaybereservedforcalculatingtheambianceoftheroom,fromthelightreflectingoffwalls,floorandceiling,withoutexaminingthecontributionthatcomplexobjectsmaketotheradiosity\xe2\x80\x94orcomplexobjectsmaybereplacedintheradiositycalculationwithsimplerobjectsofsimilarsizeandtexture.\nRadiositycalculationsareviewpointindependentwhichincreasesthecomputationsinvolved,butmakesthemusefulforallviewpoints.Ifthereislittlerearrangementofradiosityobjectsinthescene,thesameradiositydatamaybereusedforanumberofframes,makingradiosityaneffectivewaytoimproveontheflatnessofraycasting,withoutseriouslyimpactingtheoverallrenderingtime-per-frame.\nBecauseofthis,radiosityisaprimecomponentofleadingreal-timerenderingmethods,andhasbeenusedfrombeginning-to-endtocreatealargenumberofwell-knownrecentfeature-lengthanimated3D-cartoonfilms.\nOneproblemthatanyrenderingsystemmustdealwith,nomatterwhichapproachittakes,isthesamplingproblem.Essentially,therenderingprocesstriestodepictacontinuousfunctionfromimagespacetocolorsbyusingafinitenumberofpixels.AsaconsequenceoftheNyquist\xe2\x80\x93Shannonsamplingtheorem(orKotelnikovtheorem),anyspatialwaveformthatcanbedisplayedmustconsistofatleasttwopixels,whichisproportionaltoimageresolution.Insimplerterms,thisexpressestheideathatanimagecannotdisplaydetails,peaksortroughsincolororintensity,thataresmallerthanonepixel.\nIfanaiverenderingalgorithmisusedwithoutanyfiltering,highfrequenciesintheimagefunctionwillcauseuglyaliasingtobepresentinthefinalimage.Aliasingtypicallymanifestsitselfasjaggies,orjaggededgesonobjectswherethepixelgridisvisible.Inordertoremovealiasing,allrenderingalgorithms(iftheyaretoproducegood-lookingimages)mustusesomekindoflow-passfilterontheimagefunctiontoremovehighfrequencies,aprocesscalledantialiasing.\nDuetothelargenumberofcalculations,aworkinprogressisusuallyonlyrenderedindetailappropriatetotheportionoftheworkbeingdevelopedatagiventime,sointheinitialstagesofmodeling,wireframeandraycastingmaybeused,evenwherethetargetoutputisraytracingwithradiosity.Itisalsocommontorenderonlypartsofthesceneathighdetail,andtoremoveobjectsthatarenotimportanttowhatiscurrentlybeingdeveloped.\n\nForreal-time,itisappropriatetosimplifyoneormorecommonapproximations,andtunetotheexactparametersofthesceneryinquestion,whichisalsotunedtotheagreedparameterstogetthemost\'bangforthebuck\'.\nTheimplementationofarealisticrendereralwayshassomebasicelementofphysicalsimulationoremulation—somecomputationwhichresemblesorabstractsarealphysicalprocess.\nTheterm"physicallybased"indicatestheuseofphysicalmodelsandapproximationsthataremoregeneralandwidelyacceptedoutsiderendering.Aparticularsetofrelatedtechniqueshavegraduallybecomeestablishedintherenderingcommunity.\nThebasicconceptsaremoderatelystraightforward,butintractabletocalculate;andasingleelegantalgorithmorapproachhasbeenelusiveformoregeneralpurposerenderers.Inordertomeetdemandsofrobustness,accuracyandpracticality,animplementationwillbeacomplexcombinationofdifferenttechniques.\nRenderingresearchisconcernedwithboththeadaptationofscientificmodelsandtheirefficientapplication.\nThisisthekeyacademic/theoreticalconceptinrendering.Itservesasthemostabstractformalexpressionofthenon-perceptualaspectofrendering.Allmorecompletealgorithmscanbeseenassolutionstoparticularformulationsofthisequation.\nMeaning:ataparticularpositionanddirection,theoutgoinglight(Lo)isthesumoftheemittedlight(Le)andthereflectedlight.Thereflectedlightbeingthesumoftheincominglight(Li)fromalldirections,multipliedbythesurfacereflectionandincomingangle.Byconnectingoutwardlighttoinwardlight,viaaninteractionpoint,thisequationstandsforthewhole\'lighttransport\'—allthemovementoflight\xe2\x80\x94inascene.\nThebidirectionalreflectancedistributionfunction(BRDF)expressesasimplemodeloflightinteractionwithasurfaceasfollows:\nLightinteractionisoftenapproximatedbytheevensimplermodels:diffusereflectionandspecularreflection,althoughbothcanALSObeBRDFs.\nRenderingispracticallyexclusivelyconcernedwiththeparticleaspectoflightphysics—knownasgeometricaloptics.Treatinglight,atitsbasiclevel,asparticlesbouncingaroundisasimplification,butappropriate:thewaveaspectsoflightarenegligibleinmostscenes,andaresignificantlymoredifficulttosimulate.Notablewaveaspectphenomenaincludediffraction(asseeninthecoloursofCDsandDVDs)andpolarisation(asseeninLCDs).Bothtypesofeffect,ifneeded,aremadebyappearance-orientedadjustmentofthereflectionmodel.\nThoughitreceiveslessattention,anunderstandingofhumanvisualperceptionisvaluabletorendering.Thisismainlybecauseimagedisplaysandhumanperceptionhaverestrictedranges.Arenderercansimulateanalmostinfiniterangeoflightbrightnessandcolor,butcurrentdisplays—moviescreen,computermonitor,etc.—cannothandlesomuch,andsomethingmustbediscardedorcompressed.Humanperceptionalsohaslimits,andsodoesnotneedtobegivenlarge-rangeimagestocreaterealism.Thiscanhelpsolvetheproblemoffittingimagesintodisplays,and,furthermore,suggestwhatshort-cutscouldbeusedintherenderingsimulation,sincecertainsubtletieswon\'tbenoticeable.Thisrelatedsubjectistonemapping.\nMathematicsusedinrenderingincludes:linearalgebra,calculus,numericalmathematics,signalprocessing,andMonteCarlomethods.\nRenderingformoviesoftentakesplaceonanetworkoftightlyconnectedcomputersknownasarenderfarm.\nThecurrent[when?]stateoftheartin3-DimagedescriptionformoviecreationisthementalrayscenedescriptionlanguagedesignedatmentalimagesandRenderManShadingLanguagedesignedatPixar.[2](comparewithsimpler3DfileformatssuchasVRMLorAPIssuchasOpenGLandDirectXtailoredfor3Dhardwareaccelerators).\nOtherrenderers(includingproprietaryones)canandaresometimesused,butmostotherrendererstendtomissoneormoreoftheoftenneededfeatureslikegoodtexturefiltering,texturecaching,programmableshaders,highendgeometrytypeslikehair,subdivisionornurbssurfaceswithtesselationondemand,geometrycaching,raytracingwithgeometrycaching,highqualityshadowmapping,speedorpatent-freeimplementations.Otherhighlysoughtfeaturesthesedaysmayincludeinteractivephotorealisticrendering (IPR)andhardwarerendering/shading.\nSomerenderersexecuteontheGPUinsteadoftheCPU(eg.FurryBall,Redshift,Octane).TheparallelizednatureofGPUscanbeusedforshorterrendertimes.However,GPUrenderersareconstrainedbytheamountofvideomemoryavailable.\n